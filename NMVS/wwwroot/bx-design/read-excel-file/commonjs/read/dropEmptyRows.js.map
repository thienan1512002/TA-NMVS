{"version":3,"sources":["../../source/read/dropEmptyRows.js"],"names":["dropEmptyRows","data","rowMap","accessor","_","onlyTrimAtTheEnd","i","length","empty","cell","splice"],"mappings":";;;;;;;;;;;;;AAAe,SAASA,aAAT,CAAuBC,IAAvB,EAIP;AAAA,iFAAJ,EAAI;AAAA,MAHNC,MAGM,QAHNA,MAGM;AAAA,2BAFNC,QAEM;AAAA,MAFNA,QAEM,8BAFK,UAAAC,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAEN;AAAA,MADNC,gBACM,QADNA,gBACM;;AACN;AACA,MAAIC,CAAC,GAAGL,IAAI,CAACM,MAAL,GAAc,CAAtB;;AACA,SAAOD,CAAC,IAAI,CAAZ,EAAe;AACb;AACA,QAAIE,KAAK,GAAG,IAAZ;;AACA,yDAAmBP,IAAI,CAACK,CAAD,CAAvB,wCAA4B;AAAA,UAAjBG,IAAiB;;AAC1B,UAAIN,QAAQ,CAACM,IAAD,CAAR,KAAmB,IAAvB,EAA6B;AAC3BD,QAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF,KARY,CASb;;;AACA,QAAIA,KAAJ,EAAW;AACTP,MAAAA,IAAI,CAACS,MAAL,CAAYJ,CAAZ,EAAe,CAAf;;AACA,UAAIJ,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACQ,MAAP,CAAcJ,CAAd,EAAiB,CAAjB;AACD;AACF,KALD,MAKO,IAAID,gBAAJ,EAAsB;AAC3B;AACD;;AACDC,IAAAA,CAAC;AACF;;AACD,SAAOL,IAAP;AACD","sourcesContent":["export default function dropEmptyRows(data, {\n  rowMap,\n  accessor = _ => _,\n  onlyTrimAtTheEnd\n} = {}) {\n  // Drop empty rows.\n  let i = data.length - 1\n  while (i >= 0) {\n    // Check if the row is empty.\n    let empty = true\n    for (const cell of data[i]) {\n      if (accessor(cell) !== null) {\n        empty = false\n        break\n      }\n    }\n    // Remove the empty row.\n    if (empty) {\n      data.splice(i, 1)\n      if (rowMap) {\n        rowMap.splice(i, 1)\n      }\n    } else if (onlyTrimAtTheEnd) {\n      break\n    }\n    i--\n  }\n  return data\n}"],"file":"dropEmptyRows.js"}